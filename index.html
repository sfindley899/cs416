<!DOCTYPE html>
<html lang="en">
<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="https://rawgit.com/susielu/d3-annotation/master/d3-annotation.min.js"></script>
<script src="script.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COVID-19’s Death Toll on the US</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }

        .section {
            height: 100vh;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            scroll-snap-align: start;
        }

        .controls {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .chart {
            width: 100%;
            max-height: 50vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #container {
            scroll-snap-type: y mandatory;
            overflow-y: scroll;
            height: 100vh;
        }
        svg {
            width: 100%;
            height: 100%;
        }

        h1 {
            margin-top: 20px;
            margin-bottom: 20px;
            font-size: 2.5em;
            color: #d3d3d3;
        }
        h3 {
            margin-top: 20px;
            margin-bottom: 20px;
            font-size: 1.25em;
            color: #d3d3d3;
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            margin: 10px 0;
        }
        .content-block {
            background-color: #3e3e3e;
            padding: 20px;
            margin: 10px 0;
            width: 80%;
            border-radius: 8px;
            color: #d3d3d3;
			max-height: 85vh;
        }
		strong {
		    color: red;

		}
		#state-select {
		}

		#update-chart {
		}
		.region-chart {
		    width: 100%;
            max-height: 50vh;
            display: flex;
            align-items: center;
            justify-content: center;
		}
        .legend {
            font-size: 12px;
            fill: black;
        }
        .line {
            fill: none;
            stroke-width: 2px;
        }
		.legend-container {
			display: flex;
			flex-wrap: wrap;
			overflow-y: auto;
			max-height: 100px; /* Adjust this value as needed */
			justify-content: flex-start; /* Align items to start (left) */
		}

		.legend-row {
			display: flex;
			align-items: center;
			margin-right: 40px; /* Adjust spacing between columns */
			flex-basis: calc(33% - 20px); /* Adjust width taking margin into account */
			box-sizing: border-box;
			padding: 5px;
		}

		.legend-box {
			width: 10px;
			height: 10px;
			margin-right: 5px; /* Adjust spacing between box and text */
			stroke: black;
			stroke-width: 1px;
		}

		.legend-bg {
			fill: lightgray;
			opacity: 0.8;
		}

		.legend-title {
			font-size: 14px;
			font-weight: bold;
			fill: black;
			margin: 10px 0;
		}

		.area {
			fill: steelblue;
		}

        .image-container img {
            max-width: 100%;
            height: auto;
            width: auto;
            max-height: 40vh;
    		display: block;
			margin-left: auto;
			margin-right: auto;
		}
		.axis-label {
		font-size: 14px;
		font-weight: bold;
		fill: #FFFFFF;
		}
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: pointer;
        }

	   .annotation-line {
		   stroke: black;
		   stroke-dasharray: 4, 4;
	   }

	   .annotation-text {
		   font-weight: bold;
		   fill: black;
	   }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: black;
            color: #fff;
            text-align: center;
            border-radius: 5px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position the tooltip above the text */
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body">
    <div id="container">
        <div class="section" style="background-color: #2e2e2e;">
            <h1>COVID-19’s Death Toll on the US</h1>
            <div class="content-block">
                <h3>
					COVID-19 has devastated lives across America.
				</h3>
				<h3>
					Although the US public emergency ended on May 11, 2023, this presentation explores its lasting impact within the country.
				</h3>
				<h3>Scroll down to explore the data and insights further.</h3>
            </div>
        </div>
        <div class="section" style="background-color: #3e3e3e;">
            <div class="content-block">
                <h3>Imagine <strong >800,000 people</strong>, the population with the city San Francisco suddenly disappearing.</h3>
				<div class="image-container" class="center">
					<img src="golden_gate.jpg" alt="Golden Gate Bridge">
				</div>
				<h3>This number is approximately the amount of lives lost to COVID-19 from March 2020 to May 2023.</h3>
				<h3>As of June 2024, over <strong>1,000,000</strong> lives were lost to COVID-19.</h3>
				<h3>Let’s explore the data to understand this, starting with the cumulative deaths.</h3>
		   </div>
        </div>
        <div class="section" style="background-color: #4e4e4e;">
            <div class="content-block">
                <h3>While the rate of COVID-19 deaths has slowed over time, the rising cumulative death count tells a different story.</h3>
				<div class="chart" id="total-deaths-chart"></div>
				<h3>The rising number of cases underscores the persistent spread of COVID-19, despite decreasing mortality rates over time.</h3>
				<script>totalDeathsD3Chart()</script>
            </div>
        </div>
        <div class="section" style="background-color: #3e3e3e;">
            <div class="content-block">
				<h3>This chart illustrates the trends in weekly COVID-19 cases from April 2020 to April 2023.</h3>
				<div id="cases-chart"></div>
				<script>loadCasesWeeklyD3Chart()</script>
                <h3>Weekly trends in cases highlight critical periods and the effectiveness of public health measures, such as vaccines, mask mandates, and lockdowns.</h3>
		   </div>
        </div>
        <div class="section" style="background-color: #5e5e5e;">
            <div class="content-block">
				<h3>
				However, despite the rollout of vaccines, there were still periods with significant spikes in weekly deaths.
				</h3>
				<div id="deaths-chart"></div>
				<h3>
				<script>loadDeathsWeeklyD3Chart()</script>
				During the peak of the Omicron variant, from January 30 to February 5, 2022, over 18,400 deaths were recorded in just one week.
				</h3>
			</div>
        </div>
        <div class="section" style="background-color: #6e6e6e;">
            <div class="content-block">
				<h1>Weekly Deaths and Cases by Region</h1>
            </div>
        </div>
        <div class="section" style="background-color: #7e7e7e;">
            <div class="content-block">
                <h3>The Northeast faced significant challenges at various points during the pandemic, reflecting its high population density and initial outbreak.</h3>
				<div id="cases-chart-northeast"></div>
				<script>loadCasesWeeklyNortheastD3Chart()</script>
			
            </div>
        </div>
        <div class="section" style="background-color: #8e8e8e;">
            <div class="content-block">
                <h3>The South experienced varying impacts, with some states hit harder due to different public health responses and population factors.</h3>
				<div id="cases-chart-south"></div>
				<script>loadCasesWeeklySouthD3Chart()</script>
            </div>
        </div>
        <div class="section" style="background-color: #8e8e8e;">
            <div class="content-block">
                <h3>The Midwest saw significant surges in cases and deaths, especially during the later waves of the pandemic.</h3>
				<div id="cases-chart-midwest"></div>
				<script>loadCasesWeeklyMidwestD3Chart()</script>
            </div>
        </div>
		<div class="section" style="background-color: #8e8e8e;">
            <div class="content-block">
                <h3>The West faced severe impacts, with significant spikes in cases and deaths at various stages of the pandemic.</h3>
				<div id="cases-chart-west"></div>
				<script>loadCasesWeeklyWestD3Chart()</script>	
            </div>
        </div>
        <div class="section" style="background-color: #6e6e6e;">
            <div class="content-block">
				<h1>Interactive Exploration</h1>
            </div>
        </div>
        <div class="section" style="background-color: #9e9e9e;">
            <div class="content-block">
                <h3>Use this interactive slide to explore specific data points, trends, and regional impacts in more detail.</h3>
				<div class="controls">
					<select id="state-select" multiple>
						<!-- Options will be added dynamically -->
					</select>
					<div id="slider-container"></div>
					<div id="slider"></div>
				</div>
				<div id="interactive-chart" class="region-chart"></div>
				<script>updateChartEntryFunc()</script>
            </div>
        </div>
        <div class="section" style="background-color: #bebebe;">
            <div class="content-block">
                <h3>Understanding the pandemic's impact through data is crucial for preventing future outbreaks and improving global health responses.</h3>
            </div>
        </div>
        <div class="section" style="background-color: #cecece;">
            <div class="content-block">
                <h1>References:</h1>
            </div>
        </div>
    </div>
</body>
</html>
